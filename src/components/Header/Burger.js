import styled from 'styled-components'
import Hamburger from 'hamburger-react'
import { useState, useRef } from 'react'
import useOnClickOutside from 'use-onclickoutside'
import { motion, AnimatePresence } from 'framer-motion'
import {AiOutlineClose} from 'react-icons/ai'

const links = [
	'doughnuts',
	'coffee & drinks',
	'grocery',
	'merchandise',
	'fundraising',
	'careers',
	'need help?',
	'find a shop'
]

const StyledBurger = styled.div.attrs({ className: 'xl:hidden' })`
    /* font-family: 'Secular One', sans-serif; */
    svg {
        min-width: 50px;
    }
`
const Menu = ({toggle}) => {
	return (
		<motion.div
			initial={{ x: '-100vw', opacity: 0 }}
			animate={{ x: 0, opacity: 1 }}
			exit={{ x: '-100vw', opacity: 0 }}
			className="fixed top-0 left-0 w-full h-screen bg-white max-w-[75%] md:max-w-[50%] z-10 text-sm"
		>
			<div className="h-20 flex items-center px-3">
				<AiOutlineClose size={28} onClick={() => toggle(false)} />
			</div>
			<div className=" flex items-center h-14 px-4 uppercase  text-sm gap-2 bg-[#F5F7F9] font-bold">
				<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
					<g fill="none" fill-rule="evenodd">
						<path d="M0 0h40v40H0z" />
						<path
							fill="#C8102E"
							stroke="#C8102E"
							stroke-width=".56"
							d="M19.702 11.166c1.623 0 2.797.394 3.482 1.17.802.904.67 2.066.67 2.075l-.004 2.704.158.14c.169.153.263.36.263.58v1.68a.785.785 0 0 1-.56.748.473.473 0 0 0 .277.905 1.725 1.725 0 0 0 1.23-1.653v-1.68c0-.41-.15-.808-.419-1.123v-2.213c.024-.245.111-1.634-.893-2.78-.873-.995-2.287-1.502-4.204-1.502-1.916 0-3.33.507-4.203 1.503-1.004 1.145-.917 2.534-.894 2.78v2.212a1.73 1.73 0 0 0-.418 1.123v1.68c0 .523.234 1.009.634 1.338a8.888 8.888 0 0 0 1.465 3.027v1.372c0 .387-.21.744-.55.929l-3.748 2.044c-.12.067-.239.14-.356.227a12.063 12.063 0 0 1-4.016-8.99c0-6.666 5.42-12.087 12.086-12.087s12.087 5.42 12.087 12.087a.476.476 0 0 0 .95 0c0-7.187-5.847-13.036-13.037-13.036-7.189 0-13.035 5.849-13.035 13.036a13 13 0 0 0 4.231 9.603l-.012.012.421.356c.028.02.056.04.084.063.226.187.46.365.699.536.076.056.15.111.226.162.255.176.514.343.78.5.058.033.116.065.174.1.292.164.588.322.893.465.022.01.045.018.066.03a12.917 12.917 0 0 0 4.281 1.15l.13.012c.35.028.704.046 1.062.046a.475.475 0 0 0 0-.949 11.624 11.624 0 0 1-1.053-.048c-.3-.026-.6-.063-.898-.111-.011 0-.023-.005-.035-.005a12.408 12.408 0 0 1-1.851-.463c-.016-.004-.032-.012-.049-.016-.585-.199-1.155-.444-1.706-.732-.032-.018-.064-.032-.095-.048a13.194 13.194 0 0 1-.717-.419c-.07-.044-.137-.085-.204-.13a12.785 12.785 0 0 1-.699-.493c.016-.009.03-.018.047-.025l3.747-2.046a1.999 1.999 0 0 0 1.046-1.76v-1.707l-.111-.132c-.01-.012-1.032-1.248-1.421-2.947l-.044-.187-.162-.105a.788.788 0 0 1-.364-.659v-1.68c0-.223.093-.427.264-.582l.158-.14V14.47l-.005-.06c-.002-.011-.141-1.153.662-2.067.685-.782 1.859-1.178 3.49-1.178"
						/>
						<path
							stroke="#C8102E"
							stroke-width="1.2"
							d="M31.395 34.008h-5.831a1.713 1.713 0 0 1-1.714-1.714v-3.662c0-.947.767-1.715 1.714-1.715h5.83c.947 0 1.715.768 1.715 1.715v3.662c0 .946-.768 1.714-1.714 1.714zM26.405 26.325v-2.092a2.074 2.074 0 1 1 4.148 0v2.092"
						/>
						<path
							fill="#C8102E"
							d="M28.48 32.438a.63.63 0 0 1-.63-.629v-2.367a.629.629 0 1 1 1.259 0v2.367a.63.63 0 0 1-.63.63"
						/>
					</g>
				</svg>
				<p className="text-brandRed">sign in / join rewards</p>
			</div>
			<div className=" flex items-center h-14 px-4 border-b uppercase  text-sm gap-2 font-bold">
				<svg xmlns="http://www.w3.org/2000/svg" width="26" height="34" viewBox="0 0 26 34">
					<g fill="none" fill-rule="evenodd">
						<path d="M-11-7h48v48h-48z" />
						<g fill="#C8102E">
							<path d="M5.65 20.517a.928.928 0 0 0-.735.463c-.171.27-.114.528.053.77.812 1.18 1.61 2.37 2.446 3.53 1.55 2.154 3.3 4.143 5 6.173.472.562.62.58 1.118 0 1.093-1.275 2.21-2.53 3.254-3.848 1.083-1.367 2.088-2.798 3.131-4.198.18-.24.33-.511.015-.708-.637-.397-.878-1.049-1.158-1.686-.168-.382-.396-.732-.852-.74-.466-.01-.774.309-.972.695-.22.43-.394.886-.565 1.34-.429 1.139-1.433 1.684-2.48 1.329-.482-.164-.786-.521-1.036-.958-.593-1.036-1.452-1.037-2.067-.009-.173.289-.279.62-.463.9-.603.909-1.535 1.587-2.666.734-.413-.312-.653-.711-.805-1.173-.19-.578-.463-1.124-.539-1.75-.046-.384-.22-.784-.68-.864m7.002-18.954c-2.319.095-4.47.767-6.335 2.191-2.078 1.588-3.623 3.596-4.34 6.189-.487 1.758-.63 3.514-.158 5.308.37 1.405 1.096 2.644 1.662 3.957.178.412.378.417.762.18 1.44-.892 3.024-.48 3.47 1.318.151.613.338 1.219.539 1.818.061.186.137.432.392.446.252.014.342-.21.44-.393.12-.223.216-.458.337-.68 1.11-2.046 3.4-2.135 4.676-.185.323.494.648.48.901-.07.176-.382.275-.8.439-1.187.639-1.51 2.185-2.132 3.544-1.497.773.361 1.02 1.057 1.325 1.755.303.692.762.737 1.203.138 1.043-1.418 1.696-3.046 2.369-4.66.142-.343.349-.654.401-1.054.246-1.875.29-3.713-.362-5.54-.453-1.27-1-2.482-1.84-3.508-2.44-2.98-5.544-4.596-9.425-4.526M0 13.195c-.018-4.068 1.592-7.412 4.555-10.04A12.017 12.017 0 0 1 10.14.338c.964-.201 1.966-.357 2.886-.337 2.373.05 4.677.605 6.748 1.923 3.083 1.964 5.039 4.739 5.902 8.314.61 2.526.34 4.964-.69 7.35-1.747 4.05-4.316 7.549-6.99 10.983-1.292 1.658-2.637 3.271-4.079 4.798-.795.842-1.18.852-1.946-.044-1.608-1.883-3.245-3.742-4.743-5.72-1.98-2.617-3.922-5.264-5.393-8.223C.868 17.436-.013 15.45 0 13.195" />
							<path d="M13.046 9.528c-1.904-.21-3.551 1.704-3.566 3.437-.016 1.867 1.722 3.54 3.6 3.56 1.306.016 3.387-1.403 3.393-3.473.007-1.962-1.713-3.79-3.427-3.524m-.02-1.506c2.514-.282 5.013 2.175 4.974 5.03-.041 2.917-2.445 4.953-4.883 4.948-2.852-.006-5.131-2.024-5.117-5.112.013-2.667 2.224-5.093 5.026-4.866M3.003 13.142c.014-2.69.91-5.054 2.671-6.99 1.417-1.556 3.166-2.61 5.261-2.93.398-.062.773-.25 1.192-.218.44.033.813.135.866.681.056.572-.25.773-.751.842-2.042.282-3.89 1.015-5.347 2.597-1.144 1.242-1.942 2.649-2.244 4.39-.147.842-.165 1.664-.186 2.5-.015.64-.264 1.031-.692.982-.53-.062-.753-.442-.769-.968-.008-.295-.001-.59-.001-.886M15.12 3c.857.095 1.741.42 2.579.87.304.162.348.428.262.718-.095.318-.36.414-.68.412-.281-.001-.54-.089-.788-.201a8.183 8.183 0 0 0-1.668-.526c-.437-.094-.881-.217-.82-.757.068-.586.582-.48 1.114-.516" />
						</g>
					</g>
				</svg>
				<p>find a location</p>
			</div>
			<ul className="font-bold">
				{links.map((link) => (
					<li className="h-14 flex items-center border-b px-8 uppercase">
						<p>{link}</p>
					</li>
				))}
			</ul>
		</motion.div>
	)
}

const Tint = () => {
	return (
		<motion.div
			initial={{ opacity: 0 }}
			animate={{ opacity: 0.6 }}
			exit={{ opacity: 0 }}
			className="fixed bg-black opacity-50 top-0 left-0 w-full h-screen pointer-events-none"
		/>
	)
}

const Burger = () => {
	const [ isOpen, setIsOpen ] = useState(false)
	const ref = useRef()
	useOnClickOutside(ref, () => setIsOpen(false))
	return (
		<StyledBurger ref={ref}>
			<Hamburger size={28} toggle={setIsOpen} toggled={isOpen} />
			<AnimatePresence>{isOpen && <Menu toggle={setIsOpen} />}</AnimatePresence>
			<AnimatePresence>{isOpen && <Tint />}</AnimatePresence>
		</StyledBurger>
	)
}
export default Burger
